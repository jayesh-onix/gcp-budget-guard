# ─── GCP Budget Guard – Environment Variables ───────────────────────────
# Copy to .env and fill in your values.  DO NOT commit .env to git.

# ── Required ─────────────────────────────────────────────────────────────
GCP_PROJECT_ID=your-gcp-project-id

# ── Per-Service Monthly Budgets (USD) ────────────────────────────────────
VERTEX_AI_MONTHLY_BUDGET=100
BIGQUERY_MONTHLY_BUDGET=100
FIRESTORE_MONTHLY_BUDGET=100
MONTHLY_BUDGET_AMOUNT=300
CURRENCY_CODE=USD

# ── Email Notifications (Gmail SMTP) ─────────────────────────────────────
# Generate an App Password: https://myaccount.google.com/apppasswords
SMTP_EMAIL=your-email@gmail.com
SMTP_APP_PASSWORD=xxxx-xxxx-xxxx-xxxx
# Comma-separated list of recipient emails
ALERT_RECEIVER_EMAILS=admin1@company.com,admin2@company.com

# ── Thresholds ───────────────────────────────────────────────────────────
WARNING_THRESHOLD_PCT=80
CRITICAL_THRESHOLD_PCT=100

# ── Modes ────────────────────────────────────────────────────────────────
# DRY_RUN_MODE=True   →  logs actions but never disables APIs
# DEBUG_MODE=True      →  verbose logging
DRY_RUN_MODE=False
DEBUG_MODE=False

# ── Lab / Pricing Mode ───────────────────────────────────────────────────
# LAB_MODE=True   →  use static pricing, skip billing API requirements
# PRICE_SOURCE    →  "billing" (default – live Cloud Billing API with static fallback)
#                     "static"  (static JSON catalog only)
LAB_MODE=False
PRICE_SOURCE=billing

# ── Scheduler ────────────────────────────────────────────────────────────
# Controls both the Cloud Scheduler cron interval AND the app log message.
# Must be exported as a shell env var before running deploy.sh, OR set here
# and sourced: `source .env && bash deploy.sh --yes`
SCHEDULER_INTERVAL_MINUTES=10

# ── Pub/Sub ──────────────────────────────────────────────────────────────
PUBSUB_TOPIC_NAME=budget-guard-alerts

# ── State Persistence (GCS) ─────────────────────────────────────────────
# GCS bucket for persistent state (survives Cloud Run container restarts).
# deploy.sh auto-creates <PROJECT_ID>-budget-guard-state if not set.
# Leave empty to fall back to local file (/tmp – NOT persistent on Cloud Run).
BUDGET_STATE_BUCKET=
# BUDGET_STATE_BLOB=budget_guard_state.json  # blob name inside the bucket
